import{a as J}from"./chunk-ULNDTA5Q.js";import{A as d,Aa as H,Ba as q,C as b,D as x,E as I,F as w,H as k,K as M,P as C,S as y,W as E,Y as S,Z as T,ba as V,d as g,e as m,f as u,g as c,ga as F,i as v,k as f,ka as O,la as A,ma as D,na as B,oa as L,pa as N,q as _,qa as R,r as e,ra as W,s as n,sa as j,t as h,u as P,v as l,w as p,wa as z,xa as G}from"./chunk-BXOCLV3Y.js";import"./chunk-4LE76BWB.js";import"./chunk-73UBTZ6U.js";import"./chunk-QY5AYREC.js";import"./chunk-22BFWSH3.js";import"./chunk-JRVP6ISR.js";import"./chunk-YQTF3JKO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-VZEDPC34.js";var Q=o=>["/evento",o];function U(o,s){if(o&1){let r=P();e(0,"section",9)(1,"div",10),h(2,"div",1),e(3,"div",11)(4,"div",12),d(5),n(),e(6,"div",13)(7,"ion-button",14),l("click",function(){let t=m(r).index,a=p();return u(a.editParticipante(t))}),h(8,"ion-icon",15),n()(),e(9,"div",13)(10,"ion-button",16),l("click",function(){let t=m(r).index,a=p();return u(a.deleteParticipante(t))}),h(11,"ion-icon",17),n()()()()()}if(o&2){let r=s.$implicit;c(5),b(" ",r.name," ")}}function X(o,s){if(o&1){let r=P();e(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),d(3),n()()(),e(4,"ion-content")(5,"ion-item")(6,"ion-label",18),d(7,"Nombre"),n(),e(8,"ion-input",19),w("ngModelChange",function(t){m(r);let a=p();return I(a.nombreParticipante,t)||(a.nombreParticipante=t),u(t)}),n()(),e(9,"ion-footer")(10,"ion-button",20),l("click",function(){m(r);let t=p();return u(t.saveParticipante())}),d(11,"Guardar"),n(),e(12,"ion-button",21),l("click",function(){m(r);let t=p();return u(t.closeModal())}),d(13,"Cancelar"),n()()()}if(o&2){let r=p();c(3),b("",r.editIndex!==null?"Editar":"Agregar"," Participante"),c(5),x("ngModel",r.nombreParticipante)}}var st=(()=>{let s=class s{constructor(){this.participantes=[],this.showModal=!1,this.nombreParticipante="",this.editIndex=null,this.nuevoParticipante="",this.route=g(C),this.data=g(J)}agregarParticipante(){!this.nuevoParticipante||!this.nuevoParticipante.trim()||(this.participantes.push({name:this.nuevoParticipante.trim(),montoApagar:0,pagado:!1}),this.evento&&(this.evento.participants=[...this.participantes],this.data.saveEvents()),this.nuevoParticipante="")}ngOnInit(){let i=Number(this.route.snapshot.paramMap.get("eventoId")),t=this.data.getEventById(i);t?(this.evento=t,this.participantes=this.evento.participants):this.participantes=[]}openAdd(){this.nombreParticipante="",this.editIndex=null,this.showModal=!0}editParticipante(i){this.nombreParticipante=this.participantes[i].name,this.editIndex=i,this.showModal=!0}saveParticipante(){this.nombreParticipante.trim()&&(this.editIndex!==null?this.participantes[this.editIndex]={name:this.nombreParticipante.trim(),montoApagar:0,pagado:!1}:this.participantes.push({name:this.nombreParticipante.trim(),pagado:!1,montoApagar:0}),this.evento&&(this.evento.participants=[...this.participantes],this.data.saveEvents())),this.closeModal()}deleteParticipante(i){this.participantes.splice(i,1),this.evento&&(this.evento.participants=[...this.participantes],this.data.saveEvents())}closeModal(){this.showModal=!1,this.nombreParticipante="",this.editIndex=null}};s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=v({type:s,selectors:[["app-participantes"]],decls:13,vars:7,consts:[[3,"translucent"],["slot","start"],[3,"routerLink"],[3,"fullscreen"],["class","flex items-center gap-4 p-1",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],["slot","fixed",2,"bottom","100px","right","24px","position","absolute"],[3,"click"],["name","add-outline"],[1,"flex","items-center","gap-4","p-1"],[1,"flex","items-center","gap-4","p-3","rounded-lg","bg-white","dark:bg-background-dark/50",2,"background-color","#06192D","width","100%"],[2,"align-items","center","display","flex","width","100%"],[2,"width","65%"],[2,"width","15%"],["color","primary",3,"click"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"],["position","floating"],["autocapitalize","sentences",3,"ngModelChange","ngModel"],["expand","block",3,"click"],["expand","block","color","medium",3,"click"]],template:function(t,a){t&1&&(e(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),d(3,"Participantes"),n(),e(4,"ion-buttons",1),h(5,"ion-back-button",2),n()()(),e(6,"ion-content",3),f(7,U,12,1,"section",4),e(8,"ion-modal",5),l("didDismiss",function(){return a.closeModal()}),f(9,X,14,2,"ng-template"),n()(),e(10,"ion-fab",6)(11,"ion-fab-button",7),l("click",function(){return a.openAdd()}),h(12,"ion-icon",8),n()()),t&2&&(_("translucent",!0),c(5),_("routerLink",k(5,Q,a.evento.id)),c(),_("fullscreen",!0),c(),_("ngForOf",a.participantes),c(),_("isOpen",a.showModal))},dependencies:[B,L,R,G,z,D,W,j,A,O,H,F,q,N,V,S,T,M,E,y],styles:["ion-list[_ngcontent-%COMP%]{margin-bottom:1.5rem}ion-modal[_ngcontent-%COMP%]{--width: 90vw;--height: 220px}ion-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem}"]});let o=s;return o})();export{st as ParticipantesPage};
