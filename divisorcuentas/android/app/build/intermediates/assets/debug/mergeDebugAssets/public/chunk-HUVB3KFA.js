import{a as b,b as ie,c as re,d as ae,f as le}from"./chunk-T277TTWP.js";import{a as se}from"./chunk-ULNDTA5Q.js";import{A as p,Aa as C,B as O,Ba as oe,C as H,D as P,E as k,F as I,I as L,J as B,L as W,M as z,N as j,R as A,S as N,Y as U,Z as R,ba as G,ca as q,d as h,e as c,f as d,g as m,ga as J,h as V,i as v,k as y,ka as x,l as T,m as M,ma as K,n as S,na as Q,o as D,oa as X,p as F,pa as Y,q as u,qa as Z,r as i,ra as $,s as a,sa as w,t as f,ta as ee,u as g,v as _,w as l,wa as te,xa as ne}from"./chunk-BXOCLV3Y.js";import"./chunk-4LE76BWB.js";import"./chunk-73UBTZ6U.js";import"./chunk-QY5AYREC.js";import"./chunk-22BFWSH3.js";import"./chunk-JRVP6ISR.js";import"./chunk-YQTF3JKO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-H3Z6NBHK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{i as E}from"./chunk-VZEDPC34.js";function pe(o,r){if(o&1){let t=g();i(0,"ion-button",10),_("click",function(e){c(t);let s=l(2);return d(s.onEliminar(e))}),f(1,"ion-icon",11),a()}}function ue(o,r){if(o&1){let t=g();i(0,"section",1),_("mousedown",function(){c(t);let e=l();return d(e.onPointerDown())})("mouseup",function(){c(t);let e=l();return d(e.onPointerUp())})("mouseleave",function(){c(t);let e=l();return d(e.onPointerLeave())})("touchstart",function(){c(t);let e=l();return d(e.onPointerDown())})("touchend",function(){c(t);let e=l();return d(e.onPointerUp())})("touchcancel",function(){c(t);let e=l();return d(e.onPointerLeave())})("blur",function(){c(t);let e=l();return d(e.onBlur())}),i(1,"div",2),f(2,"div",3),i(3,"ion-label",4)(4,"h2",5),p(5),i(6,"span",6),f(7,"ion-icon",7),i(8,"ion-note",8),p(9),a()()()(),T(10,pe,2,0,"ion-button",9),a()()}if(o&2){let t=l();u("routerLink","/evento/"+t.evento.id),m(5),H(" ",t.evento.title," "),m(4),O(t.evento.date),m(),M(t.showDelete?10:-1)}}var ce=(()=>{let r=class r{isIos(){return this.platform.is("ios")}constructor(){this.platform=h(q),this.eliminar=new V,this.showDelete=!1,b({chevronForward:ae,trash:le})}onEliminar(n){n.stopPropagation(),this.showDelete=!1,this.evento&&this.eliminar.emit(this.evento.id)}onPointerDown(){this.longPressTimeout=setTimeout(()=>{this.showDelete=!0},600)}onPointerUp(){clearTimeout(this.longPressTimeout)}onPointerLeave(){clearTimeout(this.longPressTimeout)}onBlur(){this.showDelete=!1}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=v({type:r,selectors:[["app-evento"]],inputs:{evento:"evento"},outputs:{eliminar:"eliminar"},decls:1,vars:1,consts:[["tabindex","0",1,"flex","items-center","gap-4","p-1",3,"routerLink"],["tabindex","0",1,"flex","items-center","gap-4","p-1",3,"mousedown","mouseup","mouseleave","touchstart","touchend","touchcancel","blur","routerLink"],[1,"flex","items-center","gap-4","p-3","rounded-lg","bg-white","dark:bg-background-dark/50",2,"background-color","#06192D","width","100%"],["slot","start"],[1,"ion-text-wrap",2,"width","100%"],[1,"font-bold","text-base"],[1,"date",2,"width","30%"],["aria-hidden","true","name","chevron-forward","size","small",2,"float","inline-end"],[2,"margin-right","10%","float","inline-end"],["slot","end","color","danger","fill","clear"],["slot","end","color","danger","fill","clear",3,"click"],["name","trash"]],template:function(e,s){e&1&&T(0,ue,11,4,"section",0),e&2&&M(s.evento?0:-1)},dependencies:[N,w,ee,C,x],styles:["ion-label[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin:0;display:flex;flex-wrap:wrap;justify-content:space-between}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:95%}ion-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{align-items:center;display:flex}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#c9c9ca}"],changeDetection:0});let o=r;return o})();function _e(o,r){if(o&1){let t=g();i(0,"app-evento",10),_("eliminar",function(e){c(t);let s=l(2);return d(s.eliminarEvento(e))}),a()}if(o&2){let t=r.$implicit;u("evento",t)}}function fe(o,r){if(o&1&&(i(0,"ion-content",8),D(1,_e,1,1,"app-evento",9,S),a()),o&2){let t=r.ngIf;u("fullscreen",!0),m(),F(t)}}function ge(o,r){if(o&1){let t=g();i(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),p(3,"Agregar Evento"),a()()(),i(4,"ion-content")(5,"ion-item")(6,"div",11)(7,"ion-label"),p(8,"T\xEDtulo"),a(),i(9,"ion-input",12),I("ngModelChange",function(e){c(t);let s=l();return k(s.nuevoTitulo,e)||(s.nuevoTitulo=e),d(e)}),a()()(),i(10,"ion-item")(11,"div",11)(12,"ion-label"),p(13,"Fecha"),a(),i(14,"ion-input",13),I("ngModelChange",function(e){c(t);let s=l();return k(s.nuevaFecha,e)||(s.nuevaFecha=e),d(e)}),a()()(),i(15,"ion-footer")(16,"div",11)(17,"ion-button",14),_("click",function(){c(t);let e=l();return d(e.agregarEvento())}),p(18,"Guardar"),a(),i(19,"ion-button",15),_("click",function(){c(t);let e=l();return d(e.closeModal())}),p(20,"Cancelar"),a()()()()}if(o&2){let t=l();m(9),P("ngModel",t.nuevoTitulo),m(5),P("ngModel",t.nuevaFecha),m(3),u("disabled",!t.nuevoTitulo||!t.nuevaFecha)}}var ze=(()=>{let r=class r{constructor(){this.data=h(se),this.router=h(A),this.showModal=!1,this.nuevoTitulo="",this.nuevaFecha="",b({add:ie,addOutline:re}),this.eventos$=this.data.getEvents$()}refresh(n){setTimeout(()=>{n.detail.complete()},3e3)}openAddModal(){this.nuevoTitulo="",this.nuevaFecha="",this.showModal=!0}closeModal(){this.showModal=!1,this.nuevoTitulo="",this.nuevaFecha=""}agregarEvento(){return E(this,null,function*(){yield this.data.addEvent({title:this.nuevoTitulo,date:this.nuevaFecha,participants:[],items:[],description:"",incluyePropina:!1}),this.closeModal()})}eliminarEvento(n){return E(this,null,function*(){yield this.data.deleteEvent(n)})}};r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=v({type:r,selectors:[["app-home"]],decls:16,vars:5,consts:[[3,"translucent"],["collapse","condense"],["size","large"],["class","ion-padding-bottom","scroll-events","true",3,"fullscreen",4,"ngIf"],["slot","fixed",2,"bottom","100px","right","24px","position","absolute"],[3,"click"],["name","add-outline"],[3,"didDismiss","isOpen"],["scroll-events","true",1,"ion-padding-bottom",3,"fullscreen"],[3,"evento"],[3,"eliminar","evento"],[1,"flex","flex-col","width-full","margin-top-5"],["autocapitalize","sentences","id","event-name","placeholder","Ej: Cena de fin de a\xF1o","value","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-[#212529]","dark:text-white","focus:outline-0","focus:ring-2","focus:ring-primary/50","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-background-dark","h-14","placeholder:text-[#6C757D]","p-[15px]","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["type","date","id","event-date","placeholder","Seleccionar fecha","value","",1,"form-input","flex","w-full","min-w-0","flex-1","resize-none","overflow-hidden","rounded-lg","text-[#212529]","dark:text-white","focus:outline-0","focus:ring-2","focus:ring-primary/50","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-background-dark","h-14","placeholder:text-[#6C757D]","p-[15px]","text-base","font-normal","leading-normal",3,"ngModelChange","ngModel"],["expand","block",3,"click","disabled"],["expand","block","color","medium",3,"click"]],template:function(e,s){e&1&&(i(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),p(3," Eventos "),a()()(),i(4,"ion-content")(5,"ion-header",1)(6,"ion-toolbar")(7,"ion-title",2),p(8," Eventos "),a()()(),y(9,fe,3,1,"ion-content",3),L(10,"async"),i(11,"ion-fab",4)(12,"ion-fab-button",5),_("click",function(){return s.openAddModal()}),f(13,"ion-icon",6),a()()(),i(14,"ion-modal",7),_("didDismiss",function(){return s.closeModal()}),y(15,ge,21,3,"ng-template"),a()),e&2&&(u("translucent",!0),m(9),u("ngIf",B(10,3,s.eventos$)),m(5),u("isOpen",s.showModal))},dependencies:[X,Z,ne,te,K,ce,x,Q,C,J,Y,oe,w,$,G,U,R,j,W,z],styles:[".width-full[_ngcontent-%COMP%]{width:100%}.margin-top-5[_ngcontent-%COMP%]{margin-top:1.25rem}.ion-padding-bottom[_ngcontent-%COMP%]{--padding-bottom: 80px}"]});let o=r;return o})();export{ze as HomePage};
